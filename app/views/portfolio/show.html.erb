<!doctype html>
<html lang="ja">
  <head>
    <title>ポートフォリオ</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <style>
     h2 {
       margin-top: 1rem;
     }

     .jumbotron-extend {
       position: relative;
       height: 100vh;
       min-height: 300px;
     }
    </style>
  </head>
  <body>
    <div class="jumbotron jumbotron-extend">
      <div class="container-fluid">
	<h1 class="display-4">ポートフォリオ</h1>
	<p class="lead">
	  デザインは苦手なので、飾りやアクションはありません。
	</p>
      </div>
    </div>
    <div class="container-fluid">
      <h2>自己紹介</h2>
      <p>
	<%= @user.introduction %>
      </p>

      <h2>主な開発実績</h2>
      <div class="accordion" id="accordion2" role="tablist">
	<div class="card">
	  <div class="card-header" role="tab" id="heading1">
	    <h5 class="mb-0">
              <a data-toggle="collapse" class="text-body stretched-link text-decoration-none" href="#collapse1" aria-expanded="true" aria-controls="collapse1"> アイテム1 </a>
	    </h5>
	  </div>
	  <div id="collapse1" class="collapse show" role="tabpanel" aria-labelledby="heading1" data-parent="#accordion2">
	    <div class="card-body">
	      <h5>概要</h5>
	      <h5>システム構成</h5>
	      <!-- <img src="pr/pr.001.png" class="img-fluid"> -->
	      <h5>使用技術</h5>
	    </div>
	  </div>
	</div>
	<div class="card">
	  <div class="card-header" role="tab" id="heading2">
	    <h5 class="mb-0">
              <a class="collapsed text-body stretched-link text-decoration-none" data-toggle="collapse" href="#collapse2" aria-expanded="false" aria-controls="collapse2"> アイテム2 </a>
	    </h5>
	  </div>
	  <div id="collapse2" class="collapse" role="tabpanel" aria-labelledby="heading2" data-parent="#accordion2">
	    <div class="card-body">アイテム2のコンテンツ</div>
	  </div>
	</div>
	<% @projects.each do |project| %>
	  <div class="card">
	    <div class="card-header" role="tab" id="heading3">
	      <h5 class="mb-0">
		<a class="collapsed text-body stretched-link text-decoration-none" data-toggle="collapse" href="#collapse3" aria-expanded="false" aria-controls="collapse3"> <%= project.name %> </a>
	      </h5>
	    </div>
	    <div id="collapse3" class="collapse" role="tabpanel" aria-labelledby="heading3" data-parent="#accordion2">
	      <div class="card-body">
		<% if project.overview.present? %>
		  <h5>概要</h5>
		  <p><%= project.overview %></p>
		<% end %>
		<% if project.hw_configuration.present? %>
		  <h5>HW構成</h5>
		  <p><%= project.hw_configuration %></p>
		<% end %>
		<% if project.sw_configuration.present? %>
		  <h5>SW構成</h5>
		  <p><%= project.sw_configuration %></p>
		  <!-- <img src="pr/pr.001.png" class="img-fluid"> -->
		<% end %>
		<h5>使用技術</h5>
		<p>
		  <% project.tech_tags.each do |tags| %>
		    <%= tags.name %>,
		  <% end %>
		</p>
		<% if project.production_url.present? %>
		  <h5>本番環境URL</h5>
		  <p><a href="<%= project.production_url %>"><%= project.production_url %></a> </p>
		<% end %>
		<% if project.from.present? || project.to.present? %>
		  <h5>期間</h5>
		  <p><%= project.from.strftime('%Y年%-m月') %> 〜 <%= project.to.strftime('%Y年%-m月') %></p>
		<% end %>
	      </div>
	    </div>
	  </div>
	<% end %>
      </div>

      <h2>連絡先</h2>
      <a href="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x73;&#x74;&#x69;&#x6e;&#x67;&#x40;&#x6e;&#x69;&#x66;&#x74;&#x79;&#x2e;&#x63;&#x6f;&#x6d;">&#x73;&#x74;&#x69;&#x6e;&#x67;&#x40;&#x6e;&#x69;&#x66;&#x74;&#x79;&#x2e;&#x63;&#x6f;&#x6d;</a>
      <p><%= raw @user.email.bytes.map{|v| "&\#x#{v.to_s(16)};"}.join %></p>
    </div>

  </body>

  <script>
   jQuery(document).ready(function() {
     window.opener.$(":submit").prop("disabled", false);
   });
  </script>
</html>
